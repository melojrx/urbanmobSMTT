{% extends 'base.html' %}

{% block conteudo %}

<main class="col-md-12 col-lg-9 col-sm-12 col-xs-12">
  
    <div class="container p-0 mb-1 mt-4">
      <h5 class="titulo-filtra-demandas"> <strong><i class="bi-list-ul"></i>&nbsp;&nbsp; Lista de Solicitações
        </strong></h5>
      <hr class="mt-1">
    </div>

    <div class="table-responsive">
      <table class="table table-striped table-hover table-borderless">
        {% if listSolicitacaoHistorico %}
        <thead>
          <tr>
            <th scope="col">Solicitação</th>
            <th scope="col">Protocolo</th>
            <th scope="col">Status</th>
            <th scope="col">Data de Início</th>
            <th scope="col">Visualizar</th>
          </tr>
        </thead>
        <tbody>
          {% for solicitacaoHistorico in listSolicitacaoHistorico %}
          <tr>
            <td>{{solicitacaoHistorico.solicitacao.tipoSolicitacao.txtTipoSolicitacao}}</td>
            <td>{{solicitacaoHistorico.solicitacao.txtProtocolo}}</td>
            <td>{{solicitacaoHistorico.status.txtStatus}}</td>
            <td>{{solicitacaoHistorico.dataInicio.strftime('%d/%m/%Y %H:%M')}}</td>
            <td class="text-center"><i class="bi bi-binoculars-fill"
                onclick="window.location.href='{{url_for('solicitacao.visualizar', idSolicitacao=solicitacaoHistorico.solicitacao.id)}}';"></i>
            </td>
          </tr>
          {% endfor %}
        </tbody>
        {% else %}
          <tr>
            <td>
              Nenhuma solicitação cadastrada
            </td>
          </tr>
        {% endif %}
      </table>
    </div>

</main>

{% endblock conteudo %}